import{S as W,i as q,s as H,e as _,t as z,k as B,c as v,a as m,h as F,d as f,m as T,b as u,g as L,M as d,N as te,O as J,P as Q,f as K,E as N,Q as le,R as Ie,w as M,x as P,y as V,T as he,U as Re,q as S,o as D,B as j,G as De,V as ae,W as X,X as Be,j as se,Y as Te,Z as Ce,_ as Oe,n as Y,p as Z,l as fe,v as Ne}from"../chunks/index-f50ca494.js";import{d as de,w as Ue}from"../chunks/index-c412c81c.js";function ge(i,e,t){const l=i.slice();return l[4]=e[t],l}function pe(i){let e,t,l=i[4].name+"",s,r,n,a,c,o;return{c(){e=_("li"),t=_("button"),s=z(l),a=B(),this.h()},l(h){e=v(h,"LI",{});var p=m(e);t=v(p,"BUTTON",{type:!0,"data-lang":!0,class:!0});var g=m(t);s=F(g,l),g.forEach(f),a=T(p),p.forEach(f),this.h()},h(){u(t,"type","button"),u(t,"data-lang",r=i[4].value),u(t,"class",n=(i[0]===i[4].value?"font-bold":"font-normal")+" inline-flex py-2 px-4 w-full hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white")},m(h,p){L(h,e,p),d(e,t),d(t,s),d(e,a),c||(o=te(t,"click",i[2]),c=!0)},p(h,p){p&1&&n!==(n=(h[0]===h[4].value?"font-bold":"font-normal")+" inline-flex py-2 px-4 w-full hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white")&&u(t,"class",n)},d(h){h&&f(e),c=!1,o()}}}function Me(i){let e,t,l,s,r,n,a,c=i[1],o=[];for(let h=0;h<c.length;h+=1)o[h]=pe(ge(i,c,h));return{c(){e=_("button"),t=z("Language "),l=J("svg"),s=J("path"),r=B(),n=_("div"),a=_("ul");for(let h=0;h<o.length;h+=1)o[h].c();this.h()},l(h){e=v(h,"BUTTON",{id:!0,"data-dropdown-toggle":!0,class:!0,type:!0});var p=m(e);t=F(p,"Language "),l=Q(p,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var g=m(l);s=Q(g,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(s).forEach(f),g.forEach(f),p.forEach(f),r=T(h),n=v(h,"DIV",{id:!0,class:!0,"data-popper-reference-hidden":!0,"data-popper-escaped":!0,"data-popper-placement":!0,style:!0});var E=m(n);a=v(E,"UL",{class:!0,"aria-labelledby":!0});var k=m(a);for(let b=0;b<o.length;b+=1)o[b].l(k);k.forEach(f),E.forEach(f),this.h()},h(){u(s,"fill-rule","evenodd"),u(s,"d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"),u(s,"clip-rule","evenodd"),u(l,"class","ml-1 w-4 h-4"),u(l,"fill","currentColor"),u(l,"viewBox","0 0 20 20"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(e,"id","dropdown-button"),u(e,"data-dropdown-toggle","dropdown"),u(e,"class","flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center text-gray-900 bg-gray-100 border border-gray-300 rounded-l-lg hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700 dark:text-white dark:border-gray-600"),u(e,"type","button"),u(a,"class","py-1 text-sm text-gray-700 dark:text-gray-200"),u(a,"aria-labelledby","dropdown-button"),u(n,"id","dropdown"),u(n,"class","hidden z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700"),u(n,"data-popper-reference-hidden","true"),u(n,"data-popper-escaped",""),u(n,"data-popper-placement","top"),K(n,"position","absolute"),K(n,"inset","auto auto 0px 0px"),K(n,"margin","0px"),K(n,"transform","translate3d(897px, 5637px, 0px)")},m(h,p){L(h,e,p),d(e,t),d(e,l),d(l,s),L(h,r,p),L(h,n,p),d(n,a);for(let g=0;g<o.length;g+=1)o[g].m(a,null)},p(h,[p]){if(p&7){c=h[1];let g;for(g=0;g<c.length;g+=1){const E=ge(h,c,g);o[g]?o[g].p(E,p):(o[g]=pe(E),o[g].c(),o[g].m(a,null))}for(;g<o.length;g+=1)o[g].d(1);o.length=c.length}},i:N,o:N,d(h){h&&f(e),h&&f(r),h&&f(n),le(o,h)}}}function Pe(i,e,t){const l=Ie();let s=[{name:"English",value:"en"},{name:"Portugu\xEAs",value:"pt"},{name:"Espa\xF1ol",value:"es"}],r="en";return[r,s,a=>{t(0,r=a.target.attributes["data-lang"].nodeValue),console.log("Language Changed",r),l("lang-change",r),document.getElementById("dropdown-button").click()}]}class Ve extends W{constructor(e){super(),q(this,e,Pe,Me,H,{})}}function je(i){let e,t,l,s,r,n,a,c,o,h,p,g,E;return l=new Ve({}),l.$on("lang-change",i[2]),{c(){e=_("form"),t=_("div"),M(l.$$.fragment),s=B(),r=_("div"),n=_("input"),a=B(),c=_("button"),o=J("svg"),h=J("path"),this.h()},l(k){e=v(k,"FORM",{class:!0});var b=m(e);t=v(b,"DIV",{class:!0});var w=m(t);P(l.$$.fragment,w),s=T(w),r=v(w,"DIV",{class:!0});var U=m(r);n=v(U,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),a=T(U),c=v(U,"BUTTON",{type:!0,class:!0});var x=m(c);o=Q(x,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var $=m(o);h=Q($,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(h).forEach(f),$.forEach(f),x.forEach(f),U.forEach(f),w.forEach(f),b.forEach(f),this.h()},h(){u(n,"type","search"),u(n,"id","search-dropdown"),u(n,"class","block p-2.5 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-r-lg border-l-gray-50 border-l-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-l-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500"),u(n,"placeholder","Search pages"),n.required=!0,u(h,"stroke-linecap","round"),u(h,"stroke-linejoin","round"),u(h,"stroke-width","2"),u(h,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),u(o,"class","w-5 h-5"),u(o,"fill","none"),u(o,"stroke","currentColor"),u(o,"viewBox","0 0 24 24"),u(o,"xmlns","http://www.w3.org/2000/svg"),u(c,"type","submit"),u(c,"class","absolute top-0 right-0 p-2.5 text-sm font-medium text-white bg-blue-700 rounded-r-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"),u(r,"class","relative w-full"),u(t,"class","flex"),u(e,"class","mb-2 max-w-3xl sm:w-full searchbar")},m(k,b){L(k,e,b),d(e,t),V(l,t,null),d(t,s),d(t,r),d(r,n),he(n,i[0]),d(r,a),d(r,c),d(c,o),d(o,h),p=!0,g||(E=[te(n,"input",i[3]),te(e,"submit",Re(i[1]))],g=!0)},p(k,[b]){b&1&&he(n,k[0])},i(k){p||(S(l.$$.fragment,k),p=!0)},o(k){D(l.$$.fragment,k),p=!1},d(k){k&&f(e),j(l),g=!1,De(E)}}}function We(i,e,t){const l=Ie();let s="";const r=c=>{l("wiki-search",s)};function n(c){ae.call(this,i,c)}function a(){s=this.value,t(0,s)}return[s,r,n,a]}class qe extends W{constructor(e){super(),q(this,e,We,je,H,{})}}function He(i){let e,t,l,s,r,n,a,c,o,h;return{c(){e=_("nav"),t=_("ul"),l=_("li"),s=_("img"),n=B(),a=_("li"),c=_("a"),o=_("img"),this.h()},l(p){e=v(p,"NAV",{class:!0});var g=m(e);t=v(g,"UL",{class:!0});var E=m(t);l=v(E,"LI",{class:!0});var k=m(l);s=v(k,"IMG",{src:!0,alt:!0}),k.forEach(f),n=T(E),a=v(E,"LI",{class:!0});var b=m(a);c=v(b,"A",{class:!0,href:!0});var w=m(c);o=v(w,"IMG",{alt:!0,src:!0}),w.forEach(f),b.forEach(f),E.forEach(f),g.forEach(f),this.h()},h(){X(s.src,r="https://komarev.com/ghpvc/?username=guinetik&label=Profile%20views&color=blueviolet&style=flat&label=Visitors")||u(s,"src",r),u(s,"alt","Visits"),u(l,"class","md:ml-2"),u(o,"alt","github"),X(o.src,h="https://img.shields.io/badge/-Github-999999?style=flat-square&logo=Github&logoColor=white&link=https://www.github.com/guinetik")||u(o,"src",h),u(c,"class","border-t block no-underline hover:underline py-2 text-grey-darkest hover:text-black md:border-none md:p-0"),u(c,"href","https://github.com/guinetik"),u(a,"class","md:ml-2"),u(t,"class","list-reset md:flex md:items-center"),u(e,"class","")},m(p,g){L(p,e,g),d(e,t),d(t,l),d(l,s),d(t,n),d(t,a),d(a,c),d(c,o)},p:N,i:N,o:N,d(p){p&&f(e)}}}class ze extends W{constructor(e){super(),q(this,e,null,He,H,{})}}function Fe(i){let e,t,l,s,r,n,a,c,o,h,p,g,E,k,b,w,U,x,$,I,A;return b=new qe({}),b.$on("wiki-search",i[1]),b.$on("lang-change",i[2]),x=new ze({}),{c(){e=_("header"),t=_("div"),l=_("img"),r=B(),n=_("h1"),a=_("a"),c=z("Wiki Search"),o=B(),h=_("div"),p=_("button"),g=J("svg"),E=J("path"),k=B(),M(b.$$.fragment),w=B(),U=_("div"),M(x.$$.fragment),this.h()},l(R){e=v(R,"HEADER",{class:!0});var C=m(e);t=v(C,"DIV",{class:!0});var O=m(t);l=v(O,"IMG",{alt:!0,width:!0,height:!0,class:!0,src:!0}),r=T(O),n=v(O,"H1",{class:!0});var G=m(n);a=v(G,"A",{class:!0,href:!0});var ie=m(a);c=F(ie,"Wiki Search"),ie.forEach(f),G.forEach(f),o=T(O),h=v(O,"DIV",{class:!0});var ne=m(h);p=v(ne,"BUTTON",{class:!0});var oe=m(p);g=Q(oe,"svg",{class:!0,"x-show":!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,viewBox:!0,stroke:!0});var ce=m(g);E=Q(ce,"path",{d:!0}),m(E).forEach(f),ce.forEach(f),oe.forEach(f),ne.forEach(f),O.forEach(f),k=T(C),P(b.$$.fragment,C),w=T(C),U=v(C,"DIV",{class:!0});var ue=m(U);P(x.$$.fragment,ue),ue.forEach(f),C.forEach(f),this.h()},h(){u(l,"alt","logo"),u(l,"width","54"),u(l,"height","54"),u(l,"class","pr-2"),X(l.src,s="https://upload.wikimedia.org/wikipedia/en/thumb/8/80/Wikipedia-logo-v2.svg/155px-Wikipedia-logo-v2.svg.png")||u(l,"src",s),u(a,"class","no-underline text-grey-darkest hover:text-black dark:text-white dark:hover:text-cyan-300"),u(a,"href","#"),u(n,"class","leading-none text-2xl text-grey-darkest flex-grow"),u(E,"d","M4 6h16M4 12h16M4 18h16"),u(g,"class","w-6 h-6 text-white hover:text-green-500 "),u(g,"x-show","!showMenu"),u(g,"fill","none"),u(g,"stroke-linecap","round"),u(g,"stroke-linejoin","round"),u(g,"stroke-width","2"),u(g,"viewBox","0 0 24 24"),u(g,"stroke","currentColor"),u(p,"class","outline-none mobile-menu-button"),u(h,"class","md:hidden sm:flex"),u(t,"class","flex items-center mb-4 md:mb-0"),u(U,"class","mobile-menu hidden md:flex items-center space-x-3 "),u(e,"class","border-b md:flex justify-between md:items-center p-4 pb-0 shadow-lg md:pb-4 dark:bg-gray-800")},m(R,C){L(R,e,C),d(e,t),d(t,l),d(t,r),d(t,n),d(n,a),d(a,c),d(t,o),d(t,h),d(h,p),d(p,g),d(g,E),d(e,k),V(b,e,null),d(e,w),d(e,U),V(x,U,null),$=!0,I||(A=te(p,"click",i[0]),I=!0)},p:N,i(R){$||(S(b.$$.fragment,R),S(x.$$.fragment,R),$=!0)},o(R){D(b.$$.fragment,R),D(x.$$.fragment,R),$=!1},d(R){R&&f(e),j(b),j(x),I=!1,A()}}}function Ge(i){const e=()=>{document.querySelector(".mobile-menu").classList.toggle("hidden")};function t(s){ae.call(this,i,s)}function l(s){ae.call(this,i,s)}return[e,t,l]}class Je extends W{constructor(e){super(),q(this,e,Ge,Fe,H,{})}}function Qe(i){return i<.5?4*i*i*i:.5*Math.pow(2*i-2,3)+1}function Xe(i){const e=i-1;return e*e*e+1}function Ye(i,{delay:e=0,duration:t=400,easing:l=Be}={}){const s=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:l,css:r=>`opacity: ${r*s}`}}function Ze(i,{delay:e=0,duration:t=400,easing:l=Xe,x:s=0,y:r=0,opacity:n=0}={}){const a=getComputedStyle(i),c=+a.opacity,o=a.transform==="none"?"":a.transform,h=c*(1-n);return{delay:e,duration:t,easing:l,css:(p,g)=>`
			transform: ${o} translate(${(1-p)*s}px, ${(1-p)*r}px);
			opacity: ${c-h*g}`}}function me(i,e,t){const l=i.slice();return l[1]=e[t],l}function _e(i){let e,t,l,s;return{c(){e=_("div"),t=_("img"),this.h()},l(r){e=v(r,"DIV",{class:!0});var n=m(e);t=v(n,"IMG",{alt:!0,src:!0,class:!0}),n.forEach(f),this.h()},h(){u(t,"alt",l=i[0].title),X(t.src,s=i[0].image)||u(t,"src",s),u(t,"class","w-full z-10 object-center object-cover max-h-80"),u(e,"class","bg-white")},m(r,n){L(r,e,n),d(e,t)},p(r,n){n&1&&l!==(l=r[0].title)&&u(t,"alt",l),n&1&&!X(t.src,s=r[0].image)&&u(t,"src",s)},d(r){r&&f(e)}}}function ve(i){let e,t=i[0].text+"",l;return{c(){e=_("p"),l=z(t),this.h()},l(s){e=v(s,"P",{class:!0});var r=m(e);l=F(r,t),r.forEach(f),this.h()},h(){u(e,"class","dark:text-gray-300 text-gray-700 text-base article-text text-ellipsis svelte-doapsf")},m(s,r){L(s,e,r),d(e,l)},p(s,r){r&1&&t!==(t=s[0].text+"")&&se(l,t)},d(s){s&&f(e)}}}function be(i){let e,t,l=i[1]+"",s,r,n;return{c(){e=_("a"),t=_("span"),s=z(l),r=B(),this.h()},l(a){e=v(a,"A",{target:!0,href:!0});var c=m(e);t=v(c,"SPAN",{class:!0});var o=m(t);s=F(o,l),o.forEach(f),r=T(c),c.forEach(f),this.h()},h(){u(t,"class","inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"),u(e,"target","_blank"),u(e,"href",n="https://en.wikipedia.org/w/index.php?search="+i[1])},m(a,c){L(a,e,c),d(e,t),d(t,s),d(e,r)},p(a,c){c&1&&l!==(l=a[1]+"")&&se(s,l),c&1&&n!==(n="https://en.wikipedia.org/w/index.php?search="+a[1])&&u(e,"href",n)},d(a){a&&f(e)}}}function Ke(i){let e,t,l,s,r,n=i[0].title+"",a,c,o,h,p,g,E,k,b=i[0].image&&_e(i),w=i[0].text&&ve(i),U=i[0].tags,x=[];for(let $=0;$<U.length;$+=1)x[$]=be(me(i,U,$));return{c(){e=_("article"),b&&b.c(),t=B(),l=_("div"),s=_("a"),r=_("h2"),a=z(n),o=B(),w&&w.c(),h=B(),p=_("div");for(let $=0;$<x.length;$+=1)x[$].c();this.h()},l($){e=v($,"ARTICLE",{class:!0});var I=m(e);b&&b.l(I),t=T(I),l=v(I,"DIV",{class:!0});var A=m(l);s=v(A,"A",{href:!0,target:!0,class:!0});var R=m(s);r=v(R,"H2",{class:!0});var C=m(r);a=F(C,n),C.forEach(f),R.forEach(f),o=T(A),w&&w.l(A),A.forEach(f),h=T(I),p=v(I,"DIV",{class:!0});var O=m(p);for(let G=0;G<x.length;G+=1)x[G].l(O);O.forEach(f),I.forEach(f),this.h()},h(){u(r,"class","font-bold text-xl mb-2 hover:underline"),u(s,"href",c=i[0].link),u(s,"target","_blank"),u(s,"class","dark:text-cyan-300"),u(l,"class","px-6 py-4"),u(p,"class","px-6 pt-4 pb-2"),u(e,"class","rounded overflow-hidden shadow-lg dark:bg-gray-700 dark:border-l-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white")},m($,I){L($,e,I),b&&b.m(e,null),d(e,t),d(e,l),d(l,s),d(s,r),d(r,a),d(l,o),w&&w.m(l,null),d(e,h),d(e,p);for(let A=0;A<x.length;A+=1)x[A].m(p,null);k=!0},p($,[I]){if(i=$,i[0].image?b?b.p(i,I):(b=_e(i),b.c(),b.m(e,t)):b&&(b.d(1),b=null),(!k||I&1)&&n!==(n=i[0].title+"")&&se(a,n),(!k||I&1&&c!==(c=i[0].link))&&u(s,"href",c),i[0].text?w?w.p(i,I):(w=ve(i),w.c(),w.m(l,null)):w&&(w.d(1),w=null),I&1){U=i[0].tags;let A;for(A=0;A<U.length;A+=1){const R=me(i,U,A);x[A]?x[A].p(R,I):(x[A]=be(R),x[A].c(),x[A].m(p,null))}for(;A<x.length;A+=1)x[A].d(1);x.length=U.length}},i($){k||(Te(()=>{E&&E.end(1),g=Ce(e,Ze,{y:500*i[0].i,duration:1e3,delay:100*i[0].i,easing:Qe}),g.start()}),k=!0)},o($){g&&g.invalidate(),E=Oe(e,Ye,{}),k=!1},d($){$&&f(e),b&&b.d(),w&&w.d(),le(x,$),$&&E&&E.end()}}}function et(i,e,t){let{article:l={title:"Title",text:"text",tags:["tags"],link:"https://en.wikipedia.org/wiki/JavaScript",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/JavaScript_screenshot.png/450px-JavaScript_screenshot.png"}}=e;return i.$$set=s=>{"article"in s&&t(0,l=s.article)},[l]}class Le extends W{constructor(e){super(),q(this,e,et,Ke,H,{article:0})}}let re=Ue([]),ee=Ue([]);const y={language:"en",SEARCH_BASE_URL:"https://:lang.wikipedia.org/w/api.php",FEATURED_BASE_URL:"https://wikimedia.org/api/rest_v1/metrics/pageviews/top/:lang.wikipedia.org/all-access/:date",searchApiUrl:"",SEARCH_REQUEST_OPTIONS:{format:"json",action:"query",generator:"search",gsrnamespace:0,gsrlimit:10,prop:"pageimages|extracts|pageterms|images|info|extracts&inprop=url",pilimit:"max",exintro:"",explaintext:"",exsentences:1,exlimit:"max",origin:"*",pithumbsize:500},searchResults:de(re,i=>{let e=[];if(console.log("new search results:",i),i.query){let t=0;Object.entries(i.query.pages).forEach(l=>{const[s,r]=l,n={i:t,title:r.title,text:r.extract?r.extract:"",tags:r.terms.alias?r.terms.alias:[],link:r.canonicalurl,image:r.thumbnail?r.thumbnail.source:""};e.push(n),t++})}return e}),featuredArticles:de(ee,i=>(console.log("featured articles:",i),i.sort((e,t)=>e.tags[0]-t.tags[0]))),search:i=>{console.log("searching for ",i),y.searchApiUrl=y.getSearchApiUrl(i),y.fetch(y.searchApiUrl,re)},getFeaturedPosts:async()=>{let i=y.FEATURED_BASE_URL.replaceAll(":lang",y.language).replaceAll(":date",new Date(Date.now()-864e5).toJSON().slice(0,10).replaceAll("-","/"));fetch(i).then(e=>e.json()).then(async e=>{const t=[];if(e.items&&e.items.length>0){const s=e.items[0].articles;if(s){let r=["Main_Page","Special:Search","Wikip\xE9dia:P\xE1gina_principal","Especial:Pesquisar","Wikipedia:Featured pictures"],n=1;await s.filter(a=>!r.includes(a.article)).slice(0,100).forEach(async a=>{const c=await y.getPageDetails(a.article);if(!c.title.toLowerCase().includes("not found")){let o=c.thumbnail?c.thumbnail.source:null;if(o&&o.includes("px-")){const h=o;o=h.split("/").splice(0,h.split("/").length-1).join("/")+"/400px"+h.split("/").pop().slice(h.split("/").pop().indexOf("px")+2)}t.push({i:n,title:c.title,tags:["Top {}".replace("{}",n),"{} views".replace("{}",a.views)],link:c.content_urls?c.content_urls.desktop.page:"/",image:o,text:c.extract||c.description})}ee.set(t),n++})}else ee.set([])}else ee.set([])}).catch(e=>(console.log(e),[]))},getPageDetails:async i=>{let e="https://:lang.wikipedia.org/api/rest_v1/page/summary/:page?origin=*".replaceAll(":lang",y.language).replaceAll(":page",i);return await(await fetch(e)).json()},fetch:(i,e)=>{console.log("fecthing from:",i),fetch(i).then(t=>t.json()).then(t=>{e.set(t)}).catch(t=>(console.log(t),[]))},getSearchApiUrl:i=>{const e="?gsrsearch="+i+Object.entries(y.SEARCH_REQUEST_OPTIONS).reduce((t,l)=>{const[s,r]=l;return t+"&"+s+"="+r},"");return y.getApiBaseURL()+e},getApiBaseURL:()=>(console.log("language",y.language),y.SEARCH_BASE_URL.replaceAll(":lang",y.language)),setLanguage:i=>{const e=y.getApiBaseURL();y.language=i;const t=y.getApiBaseURL();y.searchApiUrl&&(y.searchApiUrl=y.searchApiUrl.replaceAll(e,t),y.fetch(y.searchApiUrl,re)),y.getFeaturedPosts()}};function ke(i,e,t){const l=i.slice();return l[4]=e[t],l}function we(i,e,t){const l=i.slice();return l[4]=e[t],l}function $e(i){let e,t,l,s=i[0],r=[];for(let a=0;a<s.length;a+=1)r[a]=xe(we(i,s,a));const n=a=>D(r[a],1,1,()=>{r[a]=null});return{c(){e=_("section"),t=_("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=v(a,"SECTION",{});var c=m(e);t=v(c,"DIV",{class:!0});var o=m(t);for(let h=0;h<r.length;h+=1)r[h].l(o);o.forEach(f),c.forEach(f),this.h()},h(){u(t,"class","p-10 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3 gap-5")},m(a,c){L(a,e,c),d(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null);l=!0},p(a,c){if(c&1){s=a[0];let o;for(o=0;o<s.length;o+=1){const h=we(a,s,o);r[o]?(r[o].p(h,c),S(r[o],1)):(r[o]=xe(h),r[o].c(),S(r[o],1),r[o].m(t,null))}for(Y(),o=s.length;o<r.length;o+=1)n(o);Z()}},i(a){if(!l){for(let c=0;c<s.length;c+=1)S(r[c]);l=!0}},o(a){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)D(r[c]);l=!1},d(a){a&&f(e),le(r,a)}}}function xe(i){let e,t;return e=new Le({props:{article:i[4]}}),{c(){M(e.$$.fragment)},l(l){P(e.$$.fragment,l)},m(l,s){V(e,l,s),t=!0},p(l,s){const r={};s&1&&(r.article=l[4]),e.$set(r)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function ye(i){let e,t,l,s=i[1].length>0&&Ee(i),r=i[1].length==0&&Se();return{c(){s&&s.c(),e=B(),r&&r.c(),t=fe()},l(n){s&&s.l(n),e=T(n),r&&r.l(n),t=fe()},m(n,a){s&&s.m(n,a),L(n,e,a),r&&r.m(n,a),L(n,t,a),l=!0},p(n,a){n[1].length>0?s?(s.p(n,a),a&2&&S(s,1)):(s=Ee(n),s.c(),S(s,1),s.m(e.parentNode,e)):s&&(Y(),D(s,1,1,()=>{s=null}),Z()),n[1].length==0?r||(r=Se(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i(n){l||(S(s),l=!0)},o(n){D(s),l=!1},d(n){s&&s.d(n),n&&f(e),r&&r.d(n),n&&f(t)}}}function Ee(i){let e,t,l,s=i[1],r=[];for(let a=0;a<s.length;a+=1)r[a]=Ae(ke(i,s,a));const n=a=>D(r[a],1,1,()=>{r[a]=null});return{c(){e=_("section"),t=_("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=v(a,"SECTION",{});var c=m(e);t=v(c,"DIV",{class:!0});var o=m(t);for(let h=0;h<r.length;h+=1)r[h].l(o);o.forEach(f),c.forEach(f),this.h()},h(){u(t,"class","p-10 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3 gap-5")},m(a,c){L(a,e,c),d(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null);l=!0},p(a,c){if(c&2){s=a[1];let o;for(o=0;o<s.length;o+=1){const h=ke(a,s,o);r[o]?(r[o].p(h,c),S(r[o],1)):(r[o]=Ae(h),r[o].c(),S(r[o],1),r[o].m(t,null))}for(Y(),o=s.length;o<r.length;o+=1)n(o);Z()}},i(a){if(!l){for(let c=0;c<s.length;c+=1)S(r[c]);l=!0}},o(a){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)D(r[c]);l=!1},d(a){a&&f(e),le(r,a)}}}function Ae(i){let e,t;return e=new Le({props:{article:i[4]}}),{c(){M(e.$$.fragment)},l(l){P(e.$$.fragment,l)},m(l,s){V(e,l,s),t=!0},p(l,s){const r={};s&2&&(r.article=l[4]),e.$set(r)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Se(i){let e,t,l;return{c(){e=_("section"),t=_("h1"),l=z("Welcome to Wiki Search"),this.h()},l(s){e=v(s,"SECTION",{});var r=m(e);t=v(r,"H1",{class:!0});var n=m(t);l=F(n,"Welcome to Wiki Search"),n.forEach(f),r.forEach(f),this.h()},h(){u(t,"class","text-center")},m(s,r){L(s,e,r),d(e,t),d(t,l)},d(s){s&&f(e)}}}function tt(i){let e,t,l,s,r;e=new Je({}),e.$on("wiki-search",i[2]),e.$on("lang-change",i[3]);let n=i[0].length>0&&$e(i),a=i[0].length==0&&ye(i);return{c(){M(e.$$.fragment),t=B(),l=_("main"),n&&n.c(),s=B(),a&&a.c(),this.h()},l(c){P(e.$$.fragment,c),t=T(c),l=v(c,"MAIN",{class:!0});var o=m(l);n&&n.l(o),s=T(o),a&&a.l(o),o.forEach(f),this.h()},h(){u(l,"class","bg-gray-800")},m(c,o){V(e,c,o),L(c,t,o),L(c,l,o),n&&n.m(l,null),d(l,s),a&&a.m(l,null),r=!0},p(c,[o]){c[0].length>0?n?(n.p(c,o),o&1&&S(n,1)):(n=$e(c),n.c(),S(n,1),n.m(l,s)):n&&(Y(),D(n,1,1,()=>{n=null}),Z()),c[0].length==0?a?(a.p(c,o),o&1&&S(a,1)):(a=ye(c),a.c(),S(a,1),a.m(l,null)):a&&(Y(),D(a,1,1,()=>{a=null}),Z())},i(c){r||(S(e.$$.fragment,c),S(n),S(a),r=!0)},o(c){D(e.$$.fragment,c),D(n),D(a),r=!1},d(c){j(e,c),c&&f(t),c&&f(l),n&&n.d(),a&&a.d()}}}function lt(i,e,t){let l=[],s=[];y.searchResults.subscribe(a=>{t(0,l=a)}),y.featuredArticles.subscribe(a=>{console.log("app:featured",a),t(1,s=a)});const r=a=>{y.search(a.detail)},n=a=>{y.setLanguage(a.detail)};return Ne(async()=>{console.log("app mounted!"),await y.getFeaturedPosts()}),[l,s,r,n]}class rt extends W{constructor(e){super(),q(this,e,lt,tt,H,{})}}function at(i){let e,t;return e=new rt({}),{c(){M(e.$$.fragment)},l(l){P(e.$$.fragment,l)},m(l,s){V(e,l,s),t=!0},p:N,i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}class nt extends W{constructor(e){super(),q(this,e,null,at,H,{})}}export{nt as default};
